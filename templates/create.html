{% extends "layout.html" %}

{% block title %}
    Create A Card
{% endblock %}

{% block main %}

    <form action="/create" method="post">
        <!-- This javascript code changes the webpage depending on whether or not the user has the VIP option selected in the select field -->
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                document.getElementById('selected').addEventListener("change", function(){
                    if (this.value == "VIP Card") {
                        console.log('You selected: ', this.value);
                        document.getElementById("h1").innerHTML = "As a VIP member, you may now customize the image on your card! To insert your own image, get the URL of the image by right-clicking the image on google images like this: ";
                        document.getElementById("h2").innerHTML = "Once the image is opened on a new tab, copy and paste the URL into the form below!";
                        document.getElementById("f").innerHTML = "<input class=\"form-control\" name=\"image\" placeholder=\"Image URL\" type=\"text\">";
                    }
                });
            });
        </script>
        
        <!-- These two header tags will have text if the user selects the VIP card template -->
        <h3 id = "h1"></h3>
        <h3 id = "h2"></h3>
        
        <!-- This form includes information that the user can use to choose which card template and personalize the content of the card -->
        <div class="form-group">
            <label for="friend">Friend: </label>
            <select name="friend">
                {% for friend in friends%}
                    <option value = "{{friend}}">{{friend}}</option>
                {% endfor %}
            </select>
        </div>
        <div class="form-group">
            <label for="template">Template: </label>
            <select name="template" id = "selected">
                {% for template in templates%}
                    <option value = "{{template}}">{{template}}</option>
                {% endfor %}
            </select>
        </div>
        <div class="form-group">
            <input class="form-control" name="message" placeholder="Personal Message" type="text">
        </div>
        <div class="form-group" id = "f">
        </div>
        <button class="btn btn-primary" type="submit">Send Card</button>
    </form>

{% endblock %}